// Translations
const translations = {
    en: {
        nav: {
            screenshots: "Screenshots",
            faq: "FAQ",
            privacy: "Privacy Policy",
            contact: "Contact"
        },
        hero: {
            subtitle: "An exciting tower defense game where you defend your Martian colony from alien invaders"
        },
        screenshots: {
            title: "Game Screenshots",
            subtitle: "See Mars Defence in action"
        },
        faq: {
            title: "Frequently Asked Questions",
            subtitle: "Find answers to popular questions about Mars Defence",
            q1: {
                question: "Is there paid content in the game?",
                answer: "No, the game is completely free and contains no in-app purchases."
            },
            q2: {
                question: "Can I play without internet?",
                answer: "Yes, the game works completely offline. Internet is only needed for showing ads."
            },
            q3: {
                question: "Does the game collect my data?",
                answer: "The game itself does not collect personal data and stores all game data locally on your device. However, Mars Defence may collect non-personalized technical and analytical data (such as error logs, performance metrics, and aggregated usage statistics) for the purpose of improving game performance and conducting statistical analysis. All such data is anonymized and cannot be used to identify individual users. Additionally, our advertising partner Google AdMob may collect advertising-related data (like advertising ID and device information) to show you relevant ads. You can control this through the App Tracking Transparency prompt and your device settings."
            },
            q4: {
                question: "What data does advertising collect?",
                answer: "Google AdMob may collect advertising ID, device information, app usage data, and general location data to show relevant ads and measure ad performance. This data helps provide you with more relevant advertisements. You can control this data collection through your device's privacy settings and the App Tracking Transparency prompt."
            },
            q5: {
                question: "What is App Tracking Transparency?",
                answer: "App Tracking Transparency (ATT) is an iOS feature that requires apps to ask permission before tracking users across other apps and websites. When you first open Mars Defence, you'll see a prompt asking if you want to allow tracking. Choosing \"Allow\" enables personalized ads, while \"Ask App Not to Track\" shows non-personalized ads. You can change this setting anytime in your device settings."
            },
            q6: {
                question: "How to disable ads?",
                answer: "Ads are part of the free game model and cannot be disabled. However, you can control the type of ads you see by managing your tracking preferences through the App Tracking Transparency prompt and your device settings."
            }
        },
        privacy: {
            title: "Privacy Policy",
            infoCollection: {
                title: "Information Collection",
                text: "Mars Defence does NOT collect personal data from users. The game works completely locally on your device."
            },
            analytics: {
                title: "Analytics and Logging",
                text1: "Mars Defence may collect and transmit non-personalized technical and analytical data for the purpose of improving game performance, identifying technical issues, and conducting statistical analysis. This data collection is performed automatically and includes, but is not limited to:",
                list1: "Application performance metrics and error logs",
                list2: "Technical information about device specifications and operating system",
                list3: "Aggregated usage statistics and gameplay patterns",
                list4: "Crash reports and diagnostic information",
                text2: "All collected data is anonymized, aggregated, and cannot be used to identify individual users. This information is used solely for analytical purposes, technical support, and to enhance the overall user experience. The collection and processing of such data is conducted in accordance with applicable data protection regulations, including GDPR and CCPA requirements."
            },
            advertising: {
                title: "Advertising",
                text1: "The game contains ads through Google AdMob. We use App Tracking Transparency (ATT) to request permission for personalized advertising. You can choose to allow or deny tracking when prompted.",
                text2: "Ads may be personalized based on your interests and app usage, or non-personalized if you choose not to allow tracking. You can manage your advertising preferences in your device settings at any time.",
                text3: "For more information about how Google AdMob handles your data, please review their Privacy Policy."
            },
            thirdParty: {
                title: "Data Collection by Third Parties",
                text1: "Google AdMob, our advertising partner, may collect certain information including:",
                list1: "Advertising ID (IDFA on iOS, GAID on Android)",
                list2: "Device information (model, operating system version)",
                list3: "App usage data and interaction with ads",
                list4: "General location data (country/region level)",
                text2: "This data is used to show you relevant advertisements and measure ad performance. We comply with GDPR (EU) and CCPA (US) regulations regarding data collection and processing."
            },
            choices: {
                title: "Your Privacy Choices",
                text: "You have control over your privacy settings:",
                list1: "App Tracking Transparency (iOS): When prompted, you can choose to \"Ask App Not to Track\" or \"Allow\" tracking for personalized ads.",
                list2: "Consent Management (EU/US): You can manage your consent preferences for data collection and personalized advertising.",
                list3: "Device Settings: You can disable advertising ID or reset it in your device's privacy settings.",
                list4: "Ad Personalization: You can opt out of personalized ads through your Google account settings."
            },
            localData: {
                title: "Local Data",
                text: "The game saves only local data on your device: game progress, game settings and completion statistics."
            },
            children: {
                title: "Children",
                text: "The game is not intended for children under 13 years old and does not collect information from children. We comply with COPPA (Children's Online Privacy Protection Act) requirements. For users under 13, only non-personalized ads are shown."
            },
            changes: {
                title: "Changes to This Privacy Policy",
                text: "We reserve the right to modify this Privacy Policy at any time. Any changes will be effective immediately upon posting the updated policy on this website. We will notify users of material changes by updating the \"Last Updated\" date at the top of this policy or through other appropriate means. Your continued use of the game after any modifications constitutes acceptance of the updated Privacy Policy. We encourage you to review this policy periodically to stay informed about how we protect your information."
            }
        },
        contact: {
            title: "Contact Us",
            support: {
                title: "Player Support"
            },
            bug: {
                title: "Report a Bug",
                text: "When reporting bugs, please describe:<br>- Game version<br>- Device and operating system<br>- Detailed description of the problem<br>- Steps to reproduce"
            },
            form: {
                name: "Name",
                email: "Email Address",
                message: "Message",
                submit: "Send Message",
                success: "Thank you! Your submission has been received!",
                error: "Oops! Something went wrong while submitting the form."
            }
        },
        footer: {
            rights: "All rights reserved."
        }
    },
    pt: {
        nav: {
            screenshots: "Capturas de Tela",
            faq: "Perguntas Frequentes",
            privacy: "Política de Privacidade",
            contact: "Contato"
        },
        hero: {
            subtitle: "Um emocionante jogo de tower defense onde você defende sua colônia marciana de invasores alienígenas"
        },
        screenshots: {
            title: "Capturas de Tela do Jogo",
            subtitle: "Veja Mars Defence em ação"
        },
        faq: {
            title: "Perguntas Frequentes",
            subtitle: "Encontre respostas para perguntas populares sobre Mars Defence",
            q1: {
                question: "Há conteúdo pago no jogo?",
                answer: "Não, o jogo é completamente gratuito e não contém compras no aplicativo."
            },
            q2: {
                question: "Posso jogar sem internet?",
                answer: "Sim, o jogo funciona completamente offline. A internet é necessária apenas para exibir anúncios."
            },
            q3: {
                question: "O jogo coleta meus dados?",
                answer: "O jogo em si não coleta dados pessoais e armazena todos os dados do jogo localmente no seu dispositivo. No entanto, o Mars Defence pode coletar dados técnicos e analíticos não personalizados (como logs de erro, métricas de desempenho e estatísticas de uso agregadas) com o objetivo de melhorar o desempenho do jogo e realizar análises estatísticas. Todos esses dados são anonimizados e não podem ser usados para identificar usuários individuais. Além disso, nosso parceiro de publicidade Google AdMob pode coletar dados relacionados à publicidade (como ID de publicidade e informações do dispositivo) para mostrar anúncios relevantes. Você pode controlar isso através do prompt de Transparência de Rastreamento de Aplicativos e nas configurações do seu dispositivo."
            },
            q4: {
                question: "Quais dados a publicidade coleta?",
                answer: "O Google AdMob pode coletar ID de publicidade, informações do dispositivo, dados de uso do aplicativo e dados de localização geral para exibir anúncios relevantes e medir o desempenho dos anúncios. Esses dados ajudam a fornecer anúncios mais relevantes. Você pode controlar essa coleta de dados através das configurações de privacidade do seu dispositivo e do prompt de Transparência de Rastreamento de Aplicativos."
            },
            q5: {
                question: "O que é Transparência de Rastreamento de Aplicativos?",
                answer: "A Transparência de Rastreamento de Aplicativos (ATT) é um recurso do iOS que exige que os aplicativos solicitem permissão antes de rastrear usuários em outros aplicativos e sites. Quando você abrir o Mars Defence pela primeira vez, verá um prompt perguntando se deseja permitir o rastreamento. Escolher \"Permitir\" habilita anúncios personalizados, enquanto \"Pedir ao App para Não Rastrear\" mostra anúncios não personalizados. Você pode alterar essa configuração a qualquer momento nas configurações do seu dispositivo."
            },
            q6: {
                question: "Como desabilitar anúncios?",
                answer: "Os anúncios fazem parte do modelo de jogo gratuito e não podem ser desabilitados. No entanto, você pode controlar o tipo de anúncios que vê gerenciando suas preferências de rastreamento através do prompt de Transparência de Rastreamento de Aplicativos e nas configurações do seu dispositivo."
            }
        },
        privacy: {
            title: "Política de Privacidade",
            infoCollection: {
                title: "Coleta de Informações",
                text: "O Mars Defence NÃO coleta dados pessoais dos usuários. O jogo funciona completamente localmente no seu dispositivo."
            },
            analytics: {
                title: "Análises e Registros",
                text1: "O Mars Defence pode coletar e transmitir dados técnicos e analíticos não personalizados com o objetivo de melhorar o desempenho do jogo, identificar problemas técnicos e realizar análises estatísticas. Essa coleta de dados é realizada automaticamente e inclui, mas não se limita a:",
                list1: "Métricas de desempenho do aplicativo e logs de erro",
                list2: "Informações técnicas sobre especificações do dispositivo e sistema operacional",
                list3: "Estatísticas de uso agregadas e padrões de jogabilidade",
                list4: "Relatórios de falhas e informações de diagnóstico",
                text2: "Todos os dados coletados são anonimizados, agregados e não podem ser usados para identificar usuários individuais. Essas informações são usadas exclusivamente para fins analíticos, suporte técnico e para melhorar a experiência geral do usuário. A coleta e o processamento desses dados são realizados de acordo com os regulamentos de proteção de dados aplicáveis, incluindo os requisitos do GDPR e CCPA."
            },
            advertising: {
                title: "Publicidade",
                text1: "O jogo contém anúncios através do Google AdMob. Usamos a Transparência de Rastreamento de Aplicativos (ATT) para solicitar permissão para publicidade personalizada. Você pode escolher permitir ou negar o rastreamento quando solicitado.",
                text2: "Os anúncios podem ser personalizados com base nos seus interesses e uso do aplicativo, ou não personalizados se você optar por não permitir o rastreamento. Você pode gerenciar suas preferências de publicidade nas configurações do seu dispositivo a qualquer momento.",
                text3: "Para mais informações sobre como o Google AdMob trata seus dados, consulte a Política de Privacidade deles."
            },
            thirdParty: {
                title: "Coleta de Dados por Terceiros",
                text1: "O Google AdMob, nosso parceiro de publicidade, pode coletar certas informações, incluindo:",
                list1: "ID de publicidade (IDFA no iOS, GAID no Android)",
                list2: "Informações do dispositivo (modelo, versão do sistema operacional)",
                list3: "Dados de uso do aplicativo e interação com anúncios",
                list4: "Dados de localização geral (nível de país/região)",
                text2: "Esses dados são usados para exibir anúncios relevantes e medir o desempenho dos anúncios. Cumprimos os regulamentos GDPR (UE) e CCPA (EUA) em relação à coleta e processamento de dados."
            },
            choices: {
                title: "Suas Opções de Privacidade",
                text: "Você tem controle sobre suas configurações de privacidade:",
                list1: "Transparência de Rastreamento de Aplicativos (iOS): Quando solicitado, você pode escolher \"Pedir ao App para Não Rastrear\" ou \"Permitir\" o rastreamento para anúncios personalizados.",
                list2: "Gerenciamento de Consentimento (UE/EUA): Você pode gerenciar suas preferências de consentimento para coleta de dados e publicidade personalizada.",
                list3: "Configurações do Dispositivo: Você pode desabilitar o ID de publicidade ou redefini-lo nas configurações de privacidade do seu dispositivo.",
                list4: "Personalização de Anúncios: Você pode optar por não receber anúncios personalizados através das configurações da sua conta do Google."
            },
            localData: {
                title: "Dados Locais",
                text: "O jogo salva apenas dados locais no seu dispositivo: progresso do jogo, configurações do jogo e estatísticas de conclusão."
            },
            children: {
                title: "Crianças",
                text: "O jogo não é destinado a crianças menores de 13 anos e não coleta informações de crianças. Cumprimos os requisitos do COPPA (Lei de Proteção da Privacidade Online das Crianças). Para usuários menores de 13 anos, apenas anúncios não personalizados são exibidos."
            },
            changes: {
                title: "Alterações nesta Política de Privacidade",
                text: "Reservamo-nos o direito de modificar esta Política de Privacidade a qualquer momento. Quaisquer alterações entrarão em vigor imediatamente após a publicação da política atualizada neste site. Notificaremos os usuários sobre alterações materiais atualizando a data de \"Última Atualização\" no topo desta política ou por outros meios apropriados. Seu uso continuado do jogo após quaisquer modificações constitui aceitação da Política de Privacidade atualizada. Encorajamos você a revisar esta política periodicamente para se manter informado sobre como protegemos suas informações."
            }
        },
        contact: {
            title: "Entre em Contato",
            support: {
                title: "Suporte ao Jogador"
            },
            bug: {
                title: "Reportar um Bug",
                text: "Ao reportar bugs, descreva:<br>- Versão do jogo<br>- Dispositivo e sistema operacional<br>- Descrição detalhada do problema<br>- Passos para reproduzir"
            },
            form: {
                name: "Nome",
                email: "Endereço de E-mail",
                message: "Mensagem",
                submit: "Enviar Mensagem",
                success: "Obrigado! Sua mensagem foi recebida!",
                error: "Ops! Algo deu errado ao enviar o formulário."
            }
        },
        footer: {
            rights: "Todos os direitos reservados."
        }
    },
    de: {
        nav: {
            screenshots: "Screenshots",
            faq: "FAQ",
            privacy: "Datenschutzerklärung",
            contact: "Kontakt"
        },
        hero: {
            subtitle: "Ein aufregendes Tower-Defense-Spiel, in dem du deine Mars-Kolonie vor außerirdischen Invasoren verteidigst"
        },
        screenshots: {
            title: "Spiel-Screenshots",
            subtitle: "Sieh Mars Defence in Aktion"
        },
        faq: {
            title: "Häufig gestellte Fragen",
            subtitle: "Finde Antworten auf beliebte Fragen zu Mars Defence",
            q1: {
                question: "Gibt es kostenpflichtige Inhalte im Spiel?",
                answer: "Nein, das Spiel ist vollständig kostenlos und enthält keine In-App-Käufe."
            },
            q2: {
                question: "Kann ich ohne Internet spielen?",
                answer: "Ja, das Spiel funktioniert vollständig offline. Internet wird nur für die Anzeige von Werbung benötigt."
            },
            q3: {
                question: "Sammelt das Spiel meine Daten?",
                answer: "Das Spiel selbst sammelt keine persönlichen Daten und speichert alle Spieldaten lokal auf Ihrem Gerät. Mars Defence kann jedoch nicht personalisierte technische und analytische Daten (wie Fehlerprotokolle, Leistungsmetriken und aggregierte Nutzungsstatistiken) sammeln, um die Spielleistung zu verbessern und statistische Analysen durchzuführen. Alle diese Daten sind anonymisiert und können nicht zur Identifizierung einzelner Benutzer verwendet werden. Zusätzlich kann unser Werbepartner Google AdMob werbebezogene Daten (wie Werbe-ID und Geräteinformationen) sammeln, um Ihnen relevante Anzeigen zu zeigen. Sie können dies über die App-Tracking-Transparenz-Aufforderung und Ihre Geräteeinstellungen steuern."
            },
            q4: {
                question: "Welche Daten sammelt die Werbung?",
                answer: "Google AdMob kann Werbe-ID, Geräteinformationen, App-Nutzungsdaten und allgemeine Standortdaten sammeln, um relevante Anzeigen anzuzeigen und die Anzeigenleistung zu messen. Diese Daten helfen dabei, Ihnen relevantere Werbung zu bieten. Sie können diese Datensammlung über die Datenschutzeinstellungen Ihres Geräts und die App-Tracking-Transparenz-Aufforderung steuern."
            },
            q5: {
                question: "Was ist App-Tracking-Transparenz?",
                answer: "App-Tracking-Transparenz (ATT) ist eine iOS-Funktion, die Apps dazu verpflichtet, vor dem Tracking von Benutzern über andere Apps und Websites um Erlaubnis zu fragen. Wenn Sie Mars Defence zum ersten Mal öffnen, sehen Sie eine Aufforderung, ob Sie das Tracking zulassen möchten. Die Auswahl von \"Erlauben\" aktiviert personalisierte Anzeigen, während \"App nicht zum Tracking auffordern\" nicht personalisierte Anzeigen zeigt. Sie können diese Einstellung jederzeit in Ihren Geräteeinstellungen ändern."
            },
            q6: {
                question: "Wie deaktiviere ich Anzeigen?",
                answer: "Anzeigen sind Teil des kostenlosen Spielmodells und können nicht deaktiviert werden. Sie können jedoch die Art der Anzeigen steuern, die Sie sehen, indem Sie Ihre Tracking-Präferenzen über die App-Tracking-Transparenz-Aufforderung und Ihre Geräteeinstellungen verwalten."
            }
        },
        privacy: {
            title: "Datenschutzerklärung",
            infoCollection: {
                title: "Informationssammlung",
                text: "Mars Defence sammelt KEINE persönlichen Daten von Benutzern. Das Spiel funktioniert vollständig lokal auf Ihrem Gerät."
            },
            analytics: {
                title: "Analysen und Protokollierung",
                text1: "Mars Defence kann nicht personalisierte technische und analytische Daten sammeln und übertragen, um die Spielleistung zu verbessern, technische Probleme zu identifizieren und statistische Analysen durchzuführen. Diese Datensammlung erfolgt automatisch und umfasst unter anderem:",
                list1: "Anwendungsleistungsmetriken und Fehlerprotokolle",
                list2: "Technische Informationen über Gerätespezifikationen und Betriebssystem",
                list3: "Aggregierte Nutzungsstatistiken und Spielmuster",
                list4: "Absturzberichte und Diagnoseinformationen",
                text2: "Alle gesammelten Daten sind anonymisiert, aggregiert und können nicht zur Identifizierung einzelner Benutzer verwendet werden. Diese Informationen werden ausschließlich für analytische Zwecke, technischen Support und zur Verbesserung der Gesamtnutzererfahrung verwendet. Die Sammlung und Verarbeitung solcher Daten erfolgt in Übereinstimmung mit den geltenden Datenschutzbestimmungen, einschließlich der GDPR- und CCPA-Anforderungen."
            },
            advertising: {
                title: "Werbung",
                text1: "Das Spiel enthält Anzeigen über Google AdMob. Wir verwenden App-Tracking-Transparenz (ATT), um die Erlaubnis für personalisierte Werbung anzufordern. Sie können wählen, ob Sie das Tracking zulassen oder ablehnen möchten, wenn Sie dazu aufgefordert werden.",
                text2: "Anzeigen können basierend auf Ihren Interessen und der App-Nutzung personalisiert werden oder nicht personalisiert sein, wenn Sie sich entscheiden, das Tracking nicht zuzulassen. Sie können Ihre Werbeeinstellungen jederzeit in Ihren Geräteeinstellungen verwalten.",
                text3: "Für weitere Informationen darüber, wie Google AdMob Ihre Daten behandelt, lesen Sie bitte deren Datenschutzerklärung."
            },
            thirdParty: {
                title: "Datensammlung durch Dritte",
                text1: "Google AdMob, unser Werbepartner, kann bestimmte Informationen sammeln, einschließlich:",
                list1: "Werbungs-ID (IDFA auf iOS, GAID auf Android)",
                list2: "Geräteinformationen (Modell, Betriebssystemversion)",
                list3: "App-Nutzungsdaten und Interaktion mit Anzeigen",
                list4: "Allgemeine Standortdaten (Länder-/Regionsebene)",
                text2: "Diese Daten werden verwendet, um Ihnen relevante Anzeigen anzuzeigen und die Anzeigenleistung zu messen. Wir halten uns an die GDPR- (EU) und CCPA- (US) Vorschriften bezüglich Datensammlung und -verarbeitung."
            },
            choices: {
                title: "Ihre Datenschutzoptionen",
                text: "Sie haben Kontrolle über Ihre Datenschutzeinstellungen:",
                list1: "App-Tracking-Transparenz (iOS): Wenn Sie dazu aufgefordert werden, können Sie wählen, ob Sie die App \"Nicht zum Tracking auffordern\" oder \"Erlauben\" für personalisierte Anzeigen möchten.",
                list2: "Einwilligungsverwaltung (EU/US): Sie können Ihre Einwilligungspräferenzen für Datensammlung und personalisierte Werbung verwalten.",
                list3: "Geräteeinstellungen: Sie können die Werbe-ID deaktivieren oder in den Datenschutzeinstellungen Ihres Geräts zurücksetzen.",
                list4: "Anzeigenpersonalisierung: Sie können sich über Ihre Google-Kontoeinstellungen von personalisierten Anzeigen abmelden."
            },
            localData: {
                title: "Lokale Daten",
                text: "Das Spiel speichert nur lokale Daten auf Ihrem Gerät: Spielstand, Spieleinstellungen und Abschlussstatistiken."
            },
            children: {
                title: "Kinder",
                text: "Das Spiel ist nicht für Kinder unter 13 Jahren bestimmt und sammelt keine Informationen von Kindern. Wir halten uns an die COPPA-Anforderungen (Children's Online Privacy Protection Act). Für Benutzer unter 13 Jahren werden nur nicht personalisierte Anzeigen angezeigt."
            },
            changes: {
                title: "Änderungen an dieser Datenschutzerklärung",
                text: "Wir behalten uns das Recht vor, diese Datenschutzerklärung jederzeit zu ändern. Alle Änderungen treten sofort nach der Veröffentlichung der aktualisierten Richtlinie auf dieser Website in Kraft. Wir werden Benutzer über wesentliche Änderungen informieren, indem wir das Datum der \"Letzten Aktualisierung\" oben in dieser Richtlinie aktualisieren oder auf andere angemessene Weise. Ihre fortgesetzte Nutzung des Spiels nach Änderungen stellt die Annahme der aktualisierten Datenschutzerklärung dar. Wir empfehlen Ihnen, diese Richtlinie regelmäßig zu überprüfen, um über den Schutz Ihrer Informationen informiert zu bleiben."
            }
        },
        contact: {
            title: "Kontaktieren Sie uns",
            support: {
                title: "Spieler-Support"
            },
            bug: {
                title: "Fehler melden",
                text: "Bitte beschreiben Sie beim Melden von Fehlern:<br>- Spielversion<br>- Gerät und Betriebssystem<br>- Detaillierte Beschreibung des Problems<br>- Schritte zur Reproduktion"
            },
            form: {
                name: "Name",
                email: "E-Mail-Adresse",
                message: "Nachricht",
                submit: "Nachricht senden",
                success: "Vielen Dank! Ihre Nachricht wurde empfangen!",
                error: "Ups! Beim Senden des Formulars ist etwas schiefgelaufen."
            }
        },
        footer: {
            rights: "Alle Rechte vorbehalten."
        }
    },
    es: {
        nav: {
            screenshots: "Capturas de Pantalla",
            faq: "Preguntas Frecuentes",
            privacy: "Política de Privacidad",
            contact: "Contacto"
        },
        hero: {
            subtitle: "Un emocionante juego de defensa de torres donde defiendes tu colonia marciana de invasores alienígenas"
        },
        screenshots: {
            title: "Capturas de Pantalla del Juego",
            subtitle: "Ve Mars Defence en acción"
        },
        faq: {
            title: "Preguntas Frecuentes",
            subtitle: "Encuentra respuestas a preguntas populares sobre Mars Defence",
            q1: {
                question: "¿Hay contenido de pago en el juego?",
                answer: "No, el juego es completamente gratuito y no contiene compras dentro de la aplicación."
            },
            q2: {
                question: "¿Puedo jugar sin internet?",
                answer: "Sí, el juego funciona completamente sin conexión. Internet solo es necesario para mostrar anuncios."
            },
            q3: {
                question: "¿El juego recopila mis datos?",
                answer: "El juego en sí no recopila datos personales y almacena todos los datos del juego localmente en tu dispositivo. Sin embargo, Mars Defence puede recopilar datos técnicos y analíticos no personalizados (como registros de errores, métricas de rendimiento y estadísticas de uso agregadas) con el propósito de mejorar el rendimiento del juego y realizar análisis estadísticos. Todos estos datos están anonimizados y no pueden usarse para identificar usuarios individuales. Además, nuestro socio publicitario Google AdMob puede recopilar datos relacionados con la publicidad (como ID de publicidad e información del dispositivo) para mostrarte anuncios relevantes. Puedes controlar esto a través del aviso de Transparencia de Seguimiento de Aplicaciones y la configuración de tu dispositivo."
            },
            q4: {
                question: "¿Qué datos recopila la publicidad?",
                answer: "Google AdMob puede recopilar ID de publicidad, información del dispositivo, datos de uso de la aplicación y datos de ubicación general para mostrar anuncios relevantes y medir el rendimiento de los anuncios. Estos datos ayudan a proporcionarte anuncios más relevantes. Puedes controlar esta recopilación de datos a través de la configuración de privacidad de tu dispositivo y el aviso de Transparencia de Seguimiento de Aplicaciones."
            },
            q5: {
                question: "¿Qué es la Transparencia de Seguimiento de Aplicaciones?",
                answer: "La Transparencia de Seguimiento de Aplicaciones (ATT) es una función de iOS que requiere que las aplicaciones soliciten permiso antes de rastrear usuarios en otras aplicaciones y sitios web. Cuando abres Mars Defence por primera vez, verás un aviso preguntando si deseas permitir el seguimiento. Elegir \"Permitir\" habilita anuncios personalizados, mientras que \"Pedir a la App que No Rastree\" muestra anuncios no personalizados. Puedes cambiar esta configuración en cualquier momento en la configuración de tu dispositivo."
            },
            q6: {
                question: "¿Cómo desactivar los anuncios?",
                answer: "Los anuncios son parte del modelo de juego gratuito y no se pueden desactivar. Sin embargo, puedes controlar el tipo de anuncios que ves gestionando tus preferencias de seguimiento a través del aviso de Transparencia de Seguimiento de Aplicaciones y la configuración de tu dispositivo."
            }
        },
        privacy: {
            title: "Política de Privacidad",
            infoCollection: {
                title: "Recopilación de Información",
                text: "Mars Defence NO recopila datos personales de los usuarios. El juego funciona completamente de forma local en tu dispositivo."
            },
            analytics: {
                title: "Análisis y Registro",
                text1: "Mars Defence puede recopilar y transmitir datos técnicos y analíticos no personalizados con el propósito de mejorar el rendimiento del juego, identificar problemas técnicos y realizar análisis estadísticos. Esta recopilación de datos se realiza automáticamente e incluye, pero no se limita a:",
                list1: "Métricas de rendimiento de la aplicación y registros de errores",
                list2: "Información técnica sobre especificaciones del dispositivo y sistema operativo",
                list3: "Estadísticas de uso agregadas y patrones de juego",
                list4: "Informes de fallos e información de diagnóstico",
                text2: "Todos los datos recopilados están anonimizados, agregados y no pueden usarse para identificar usuarios individuales. Esta información se utiliza únicamente para fines analíticos, soporte técnico y para mejorar la experiencia general del usuario. La recopilación y el procesamiento de dichos datos se realizan de acuerdo con las regulaciones de protección de datos aplicables, incluyendo los requisitos de GDPR y CCPA."
            },
            advertising: {
                title: "Publicidad",
                text1: "El juego contiene anuncios a través de Google AdMob. Utilizamos la Transparencia de Seguimiento de Aplicaciones (ATT) para solicitar permiso para publicidad personalizada. Puedes elegir permitir o denegar el seguimiento cuando se te solicite.",
                text2: "Los anuncios pueden estar personalizados según tus intereses y uso de la aplicación, o no personalizados si decides no permitir el seguimiento. Puedes gestionar tus preferencias de publicidad en la configuración de tu dispositivo en cualquier momento.",
                text3: "Para más información sobre cómo Google AdMob maneja tus datos, consulta su Política de Privacidad."
            },
            thirdParty: {
                title: "Recopilación de Datos por Terceros",
                text1: "Google AdMob, nuestro socio publicitario, puede recopilar cierta información, incluyendo:",
                list1: "ID de publicidad (IDFA en iOS, GAID en Android)",
                list2: "Información del dispositivo (modelo, versión del sistema operativo)",
                list3: "Datos de uso de la aplicación e interacción con anuncios",
                list4: "Datos de ubicación general (nivel de país/región)",
                text2: "Estos datos se utilizan para mostrarte anuncios relevantes y medir el rendimiento de los anuncios. Cumplimos con las regulaciones GDPR (UE) y CCPA (EE. UU.) con respecto a la recopilación y el procesamiento de datos."
            },
            choices: {
                title: "Tus Opciones de Privacidad",
                text: "Tienes control sobre tu configuración de privacidad:",
                list1: "Transparencia de Seguimiento de Aplicaciones (iOS): Cuando se te solicite, puedes elegir \"Pedir a la App que No Rastree\" o \"Permitir\" el seguimiento para anuncios personalizados.",
                list2: "Gestión de Consentimiento (UE/EE. UU.): Puedes gestionar tus preferencias de consentimiento para la recopilación de datos y la publicidad personalizada.",
                list3: "Configuración del Dispositivo: Puedes desactivar el ID de publicidad o restablecerlo en la configuración de privacidad de tu dispositivo.",
                list4: "Personalización de Anuncios: Puedes optar por no recibir anuncios personalizados a través de la configuración de tu cuenta de Google."
            },
            localData: {
                title: "Datos Locales",
                text: "El juego guarda solo datos locales en tu dispositivo: progreso del juego, configuración del juego y estadísticas de finalización."
            },
            children: {
                title: "Niños",
                text: "El juego no está destinado a niños menores de 13 años y no recopila información de niños. Cumplimos con los requisitos de COPPA (Ley de Protección de la Privacidad en Línea de los Niños). Para usuarios menores de 13 años, solo se muestran anuncios no personalizados."
            },
            changes: {
                title: "Cambios en esta Política de Privacidad",
                text: "Nos reservamos el derecho de modificar esta Política de Privacidad en cualquier momento. Cualquier cambio entrará en vigor inmediatamente después de publicar la política actualizada en este sitio web. Notificaremos a los usuarios sobre cambios materiales actualizando la fecha de \"Última Actualización\" en la parte superior de esta política o mediante otros medios apropiados. Tu uso continuado del juego después de cualquier modificación constituye la aceptación de la Política de Privacidad actualizada. Te recomendamos que revises esta política periódicamente para mantenerte informado sobre cómo protegemos tu información."
            }
        },
        contact: {
            title: "Contáctanos",
            support: {
                title: "Soporte al Jugador"
            },
            bug: {
                title: "Reportar un Error",
                text: "Al reportar errores, describe:<br>- Versión del juego<br>- Dispositivo y sistema operativo<br>- Descripción detallada del problema<br>- Pasos para reproducir"
            },
            form: {
                name: "Nombre",
                email: "Dirección de Correo Electrónico",
                message: "Mensaje",
                submit: "Enviar Mensaje",
                success: "¡Gracias! ¡Tu mensaje ha sido recibido!",
                error: "¡Ups! Algo salió mal al enviar el formulario."
            }
        },
        footer: {
            rights: "Todos los derechos reservados."
        }
    },
    zh: {
        nav: {
            screenshots: "游戏截图",
            faq: "常见问题",
            privacy: "隐私政策",
            contact: "联系我们"
        },
        hero: {
            subtitle: "一款激动人心的塔防游戏，您需要保卫您的火星殖民地免受外星入侵者的攻击"
        },
        screenshots: {
            title: "游戏截图",
            subtitle: "观看 Mars Defence 的实际游戏画面"
        },
        faq: {
            title: "常见问题",
            subtitle: "查找关于 Mars Defence 的常见问题答案",
            q1: {
                question: "游戏中有付费内容吗？",
                answer: "不，游戏完全免费，不包含任何应用内购买。"
            },
            q2: {
                question: "我可以离线游戏吗？",
                answer: "可以，游戏完全离线运行。互联网仅用于显示广告。"
            },
            q3: {
                question: "游戏会收集我的数据吗？",
                answer: "游戏本身不收集个人数据，所有游戏数据都本地存储在您的设备上。但是，Mars Defence 可能会收集非个性化的技术和分析数据（如错误日志、性能指标和聚合使用统计），以改善游戏性能和进行统计分析。所有此类数据都是匿名和聚合的，不能用于识别个人用户。此外，我们的广告合作伙伴 Google AdMob 可能会收集与广告相关的数据（如广告 ID 和设备信息）以向您显示相关广告。您可以通过应用跟踪透明度提示和设备设置来控制此功能。"
            },
            q4: {
                question: "广告收集哪些数据？",
                answer: "Google AdMob 可能会收集广告 ID、设备信息、应用使用数据和一般位置数据，以显示相关广告并衡量广告效果。这些数据有助于为您提供更相关的广告。您可以通过设备的隐私设置和应用跟踪透明度提示来控制此数据收集。"
            },
            q5: {
                question: "什么是应用跟踪透明度？",
                answer: "应用跟踪透明度（ATT）是 iOS 的一项功能，要求应用在跨其他应用和网站跟踪用户之前请求许可。当您首次打开 Mars Defence 时，您会看到一个提示，询问是否要允许跟踪。选择\"允许\"可启用个性化广告，而\"要求应用不跟踪\"则显示非个性化广告。您可以随时在设备设置中更改此设置。"
            },
            q6: {
                question: "如何禁用广告？",
                answer: "广告是免费游戏模式的一部分，无法禁用。但是，您可以通过应用跟踪透明度提示和设备设置管理跟踪偏好来控制您看到的广告类型。"
            }
        },
        privacy: {
            title: "隐私政策",
            infoCollection: {
                title: "信息收集",
                text: "Mars Defence 不会收集用户的个人数据。游戏完全在您的设备上本地运行。"
            },
            analytics: {
                title: "分析和日志记录",
                text1: "Mars Defence 可能会收集和传输非个性化的技术和分析数据，以改善游戏性能、识别技术问题并进行统计分析。此数据收集是自动执行的，包括但不限于：",
                list1: "应用程序性能指标和错误日志",
                list2: "有关设备规格和操作系统的技术信息",
                list3: "聚合使用统计和游戏模式",
                list4: "崩溃报告和诊断信息",
                text2: "所有收集的数据都是匿名和聚合的，不能用于识别个人用户。此信息仅用于分析目的、技术支持以及增强整体用户体验。此类数据的收集和处理符合适用的数据保护法规，包括 GDPR 和 CCPA 要求。"
            },
            advertising: {
                title: "广告",
                text1: "游戏通过 Google AdMob 包含广告。我们使用应用跟踪透明度（ATT）请求个性化广告的许可。当提示时，您可以选择允许或拒绝跟踪。",
                text2: "广告可能会根据您的兴趣和应用使用情况进行个性化，或者如果您选择不允许跟踪，则显示非个性化广告。您可以随时在设备设置中管理您的广告偏好。",
                text3: "有关 Google AdMob 如何处理您的数据的更多信息，请查看其隐私政策。"
            },
            thirdParty: {
                title: "第三方数据收集",
                text1: "我们的广告合作伙伴 Google AdMob 可能会收集某些信息，包括：",
                list1: "广告 ID（iOS 上的 IDFA，Android 上的 GAID）",
                list2: "设备信息（型号、操作系统版本）",
                list3: "应用使用数据和与广告的交互",
                list4: "一般位置数据（国家/地区级别）",
                text2: "此数据用于向您显示相关广告并衡量广告效果。我们遵守 GDPR（欧盟）和 CCPA（美国）关于数据收集和处理的规定。"
            },
            choices: {
                title: "您的隐私选择",
                text: "您可以控制您的隐私设置：",
                list1: "应用跟踪透明度（iOS）：当提示时，您可以选择\"要求应用不跟踪\"或\"允许\"跟踪以获取个性化广告。",
                list2: "同意管理（欧盟/美国）：您可以管理数据收集和个性化广告的同意偏好。",
                list3: "设备设置：您可以在设备的隐私设置中禁用或重置广告 ID。",
                list4: "广告个性化：您可以通过 Google 帐户设置选择退出个性化广告。"
            },
            localData: {
                title: "本地数据",
                text: "游戏仅在您的设备上保存本地数据：游戏进度、游戏设置和完成统计。"
            },
            children: {
                title: "儿童",
                text: "本游戏不适用于 13 岁以下的儿童，不会收集儿童信息。我们遵守 COPPA（儿童在线隐私保护法）要求。对于 13 岁以下的用户，仅显示非个性化广告。"
            },
            changes: {
                title: "本隐私政策的变更",
                text: "我们保留随时修改本隐私政策的权利。任何变更将在本网站上发布更新政策后立即生效。我们将通过更新本政策顶部的\"最后更新\"日期或通过其他适当方式通知用户重大变更。您在修改后继续使用游戏即表示接受更新的隐私政策。我们鼓励您定期查看本政策，以了解我们如何保护您的信息。"
            }
        },
        contact: {
            title: "联系我们",
            support: {
                title: "玩家支持"
            },
            bug: {
                title: "报告错误",
                text: "报告错误时，请描述：<br>- 游戏版本<br>- 设备和操作系统<br>- 问题的详细描述<br>- 重现步骤"
            },
            form: {
                name: "姓名",
                email: "电子邮件地址",
                message: "消息",
                submit: "发送消息",
                success: "谢谢！您的消息已收到！",
                error: "糟糕！提交表单时出了点问题。"
            }
        },
        footer: {
            rights: "版权所有。"
        }
    }
};

// Language switching functionality
let currentLang = localStorage.getItem('language') || 'en';

function getNestedValue(obj, path) {
    return path.split('.').reduce((o, p) => o && o[p], obj);
}

function setNestedValue(obj, path, value) {
    const keys = path.split('.');
    const lastKey = keys.pop();
    const target = keys.reduce((o, k) => o[k] = o[k] || {}, obj);
    target[lastKey] = value;
}

function translatePage(lang) {
    currentLang = lang;
    localStorage.setItem('language', lang);
    document.getElementById('htmlLang').setAttribute('lang', lang);
    
    const translation = translations[lang];
    if (!translation) return;
    
    // Translate elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const value = getNestedValue(translation, key);
        if (value) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = value;
            } else {
                element.innerHTML = value;
            }
        }
    });
    
    // Translate placeholders
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        const value = getNestedValue(translation, key);
        if (value) {
            element.placeholder = value;
        }
    });
    
    // Update language buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        } else {
            btn.classList.remove('active');
        }
    });
}

// Smooth scrolling for navigation links
document.addEventListener('DOMContentLoaded', function() {
    // Initialize language
    translatePage(currentLang);
    
    // Language switcher
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            translatePage(lang);
        });
    });
    // FAQ Toggle functionality
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        
        question.addEventListener('click', () => {
            const isActive = item.classList.contains('active');
            
            // Close all other FAQ items
            faqItems.forEach(otherItem => {
                if (otherItem !== item) {
                    otherItem.classList.remove('active');
                }
            });
            
            // Toggle current item
            if (isActive) {
                item.classList.remove('active');
            } else {
                item.classList.add('active');
            }
        });
    });

    // Contact form handling
    const contactForm = document.getElementById('contactForm');
    const formMessage = document.getElementById('formMessage');
    const formError = document.getElementById('formError');

    // Check for success parameter in URL
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('success') === 'true') {
        showSuccess();
        // Clean URL
        window.history.replaceState({}, document.title, window.location.pathname);
    }

    contactForm.addEventListener('submit', function(e) {
        // Hide previous messages
        formMessage.style.display = 'none';
        formError.style.display = 'none';
        
        // Get form data
        const formData = new FormData(contactForm);
        const name = formData.get('name');
        const email = formData.get('email');
        const message = formData.get('message');
        
        // Basic validation
        if (!name || !email || !message) {
            e.preventDefault();
            showError('Please fill in all fields');
            return;
        }
        
        if (!isValidEmail(email)) {
            e.preventDefault();
            showError('Please enter a valid email address');
            return;
        }
        
        // Show loading state
        const submitBtn = contactForm.querySelector('button[type="submit"]');
        const originalText = submitBtn.textContent;
        submitBtn.textContent = 'Sending...';
        submitBtn.disabled = true;
        
        // Reset button after form submission
        setTimeout(() => {
            submitBtn.textContent = originalText;
            submitBtn.disabled = false;
        }, 2000);
    });

    function showSuccess() {
        formMessage.style.display = 'block';
        formError.style.display = 'none';
    }

    function showError(message) {
        formError.querySelector('p').textContent = message;
        formError.style.display = 'block';
        formMessage.style.display = 'none';
    }

    function isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }

    // Smooth scrolling for navigation links
    const navLinks = document.querySelectorAll('.nav-link');
    
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            
            if (targetSection) {
                const headerHeight = document.querySelector('.header').offsetHeight;
                const targetPosition = targetSection.offsetTop - headerHeight;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });

    // Header background change on scroll
    const header = document.querySelector('.header');
    
    window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
            header.style.background = 'rgba(19, 15, 37, 0.95)';
        } else {
            header.style.background = 'rgba(19, 15, 37, 0.9)';
        }
    });

    // Intersection Observer for animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Observe sections for animation
    const sections = document.querySelectorAll('section');
    sections.forEach(section => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(section);
    });

    // Button click animations
    const buttons = document.querySelectorAll('.btn');
    buttons.forEach(button => {
        button.addEventListener('click', function(e) {
            // Create ripple effect
            const ripple = document.createElement('span');
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;
            
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            ripple.classList.add('ripple');
            
            this.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        });
    });

    // Add ripple effect CSS
    const style = document.createElement('style');
    style.textContent = `
        .btn {
            position: relative;
            overflow: hidden;
        }
        
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: scale(0);
            animation: ripple-animation 0.6s linear;
            pointer-events: none;
        }
        
        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    `;
    document.head.appendChild(style);

    // Parallax effect for hero section - DISABLED
    // window.addEventListener('scroll', () => {
    //     const scrolled = window.pageYOffset;
    //     const hero = document.querySelector('.hero');
    //     const rate = scrolled * -0.5;
    //     
    //     if (hero) {
    //         hero.style.transform = `translateY(${rate}px)`;
    //     }
    // });

    // Mobile menu toggle (if needed in future)
    function createMobileMenu() {
        const header = document.querySelector('.header .container');
        const nav = document.querySelector('.nav');
        
        if (window.innerWidth <= 768) {
            if (!document.querySelector('.mobile-menu-toggle')) {
                const toggle = document.createElement('button');
                toggle.className = 'mobile-menu-toggle';
                toggle.innerHTML = '☰';
                toggle.style.cssText = `
                    background: none;
                    border: none;
                    color: white;
                    font-size: 1.5rem;
                    cursor: pointer;
                    display: block;
                `;
                
                header.appendChild(toggle);
                
                toggle.addEventListener('click', () => {
                    nav.style.display = nav.style.display === 'flex' ? 'none' : 'flex';
                });
            }
        } else {
            const toggle = document.querySelector('.mobile-menu-toggle');
            if (toggle) {
                toggle.remove();
            }
            nav.style.display = 'flex';
        }
    }

    // Initialize mobile menu
    createMobileMenu();
    window.addEventListener('resize', createMobileMenu);

    // Add loading animation
    window.addEventListener('load', () => {
        document.body.classList.add('loaded');
    });

    // Screenshots Gallery functionality
    const screenshotDisplay = document.getElementById('screenshotDisplay');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const screenshotImages = document.querySelectorAll('.screenshot-image');
    
    if (screenshotDisplay && prevBtn && nextBtn && screenshotImages.length > 0) {
        let currentIndex = 0;
        const totalImages = screenshotImages.length;
        
        // Show specific image
        function showImage(index) {
            // Remove active class from all images
            screenshotImages.forEach(img => img.classList.remove('active'));
            
            // Add active class to current image
            screenshotImages[index].classList.add('active');
        }
        
        // Move to next image
        function nextImage() {
            currentIndex = (currentIndex + 1) % totalImages;
            showImage(currentIndex);
        }
        
        // Move to previous image
        function prevImage() {
            currentIndex = (currentIndex - 1 + totalImages) % totalImages;
            showImage(currentIndex);
        }
        
        // Event listeners
        nextBtn.addEventListener('click', nextImage);
        prevBtn.addEventListener('click', prevImage);
        
        // Touch/swipe support for mobile
        let startX = 0;
        let isDragging = false;
        
        screenshotDisplay.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            isDragging = true;
        });
        
        screenshotDisplay.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
        });
        
        screenshotDisplay.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            isDragging = false;
            
            const endX = e.changedTouches[0].clientX;
            const diffX = startX - endX;
            const threshold = 50;
            
            if (Math.abs(diffX) > threshold) {
                if (diffX > 0) {
                    nextImage();
                } else {
                    prevImage();
                }
            }
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                prevImage();
            } else if (e.key === 'ArrowRight') {
                nextImage();
            }
        });
        
        // Initialize gallery
        showImage(currentIndex);
    }

    // Function to force download of app-ads.txt
    function downloadAppAds() {
        const link = document.createElement('a');
        link.href = 'app-ads.txt';
        link.download = 'app-ads.txt';
        link.style.display = 'none';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }

    // Check if we're on app-ads.txt page and auto-download
    if (window.location.pathname.includes('app-ads.txt')) {
        downloadAppAds();
    }

    // Console message for developers
    console.log('%c🚀 Mars Defence Website', 'color: #f2d271; font-size: 20px; font-weight: bold;');
    console.log('%cWelcome to the developer console!', 'color: #a63d39; font-size: 14px;');
});
